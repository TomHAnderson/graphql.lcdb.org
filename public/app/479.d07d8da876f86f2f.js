"use strict";(self.webpackChunklcdb=self.webpackChunklcdb||[]).push([[479],{479:function(Pn,N,f){f.r(N),f.d(N,{GuestLayoutModule:function(){return Tn}});var v=f(3144),h=f(5671),_=f(5697),l=f(9808),d=f(2382),t=f(8003),K=function(){var n=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"ngOnInit",value:function(){}}]),a}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-artist-group"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"artist-group works!"),t.qZA())},styles:[""]}),n}(),C=f(136),q=f(7777),w=f(520),B=f(2340),A=function(){var n=function(){function a(e){(0,h.Z)(this,a),this.http=e}return(0,v.Z)(a,[{key:"query",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.http.post(B.N.graphQLServer+"/graphql",{query:i,variables:o,operationName:s},{headers:new w.WM({accept:"application/json","content-type":"application/json"})})}}]),a}();return n.\u0275fac=function(e){return new(e||n)(t.LFG(w.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),T=f(8505),P=function(){var n=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"getMaxPage",value:function(i){return Math.ceil(i/300)}},{key:"getPages",value:function(i,o){for(var s=[],u=i;u>=i-2;u--)u&&u>0&&s.push(u);for(var r=i+1;r<=i+4;r++)300*Math.ceil(o/300)-300*r>=0&&!s.includes(r)&&s.length<5&&s.push(r);for(var c=i;c>5&&(300*Math.ceil(o/300)-300*c>=0&&c>=1&&!s.includes(c)&&s.length<5&&s.push(c),5!==s.length);c--);return s.sort(function(m,Z){return m-Z}),s}},{key:"getAlphabetLetter",value:function(i){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=o?65:97;return String.fromCharCode(i+s)}}]),a}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-paginated"]],decls:2,vars:0,template:function(e,i){1&e&&(t.TgZ(0,"p"),t._uU(1,"paginated works!"),t.qZA())},styles:[""]}),n}(),M=function(){var n=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"transform",value:function(i){return Math.ceil(i)}}]),a}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"ceil",type:n,pure:!0}),n}(),G=function(a){return{"alphabet-active":a}},F=function(){return["/artist-groups"]},H=function(a){return{chr:a}};function D(n,a){if(1&n&&(t.TgZ(0,"a",16),t._uU(1),t.qZA()),2&n){var e=a.index,i=t.oxw(2);t.Q6J("ngClass",t.VKq(4,G,i.chr===i.getAlphabetLetter(e,!1)))("routerLink",t.DdM(6,F))("queryParams",t.VKq(7,H,i.getAlphabetLetter(e,!1))),t.xp6(1),t.hij(" ",i.getAlphabetLetter(e,!0)," ")}}var S=function(a,e){return{chr:a,page:e}};function E(n,a){if(1&n&&(t.TgZ(0,"a",17),t._uU(1," < PREV "),t.qZA()),2&n){var e=t.oxw(3);t.Q6J("queryParams",t.WLB(1,S,e.chr,e.page-1))}}var W=function(a){return{"pagination-link-active":a}};function R(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"a",23),t._uU(2),t.qZA(),t.BQk()),2&n){var e=a.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("queryParams",t.WLB(3,S,i.chr,e))("ngClass",t.VKq(6,W,e===i.page)),t.xp6(1),t.hij(" ",e," ")}}function X(n,a){if(1&n&&(t.TgZ(0,"a",17),t._uU(1," NEXT > "),t.qZA()),2&n){var e=t.oxw(3);t.Q6J("queryParams",t.WLB(1,S,e.chr,e.page+1))}}var z=function(a){return{chr:a,page:1}};function tt(n,a){if(1&n){var e=t.EpF();t.TgZ(0,"p",9)(1,"a",17),t._uU(2," |< FIRST "),t.qZA(),t.YNc(3,E,2,4,"a",18),t.YNc(4,R,3,8,"ng-container",19),t.YNc(5,X,2,4,"a",18),t.TgZ(6,"a",17),t._uU(7," LAST |> "),t.qZA(),t._uU(8," Jump to page "),t.TgZ(9,"input",20),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).jumpToPage()})("ngModelChange",function(u){return t.CHM(e),t.oxw(2).pageJump=u}),t.qZA(),t._uU(10),t._UZ(11,"br"),t.TgZ(12,"span",21)(13,"a",22),t._uU(14),t.qZA(),t._uU(15," to "),t.TgZ(16,"a",22),t._uU(17),t.qZA()()()}if(2&n){var i=t.oxw().ngIf,o=t.oxw();t.xp6(1),t.Q6J("queryParams",t.VKq(12,z,o.chr)),t.xp6(2),t.Q6J("ngIf",i.data.artistGroups.pageInfo.hasPreviousPage),t.xp6(1),t.Q6J("ngForOf",o.pages),t.xp6(1),t.Q6J("ngIf",i.data.artistGroups.pageInfo.hasNextPage),t.xp6(1),t.Q6J("queryParams",t.WLB(14,S,o.chr,o.maxPage)),t.xp6(3),t.s9C("max",o.maxPage),t.Q6J("ngModel",o.pageJump),t.xp6(1),t.hij(" of ",o.maxPage," "),t.xp6(3),t.MGl("routerLink","/artist-group/",i.data.artistGroups.edges[0].node.id,""),t.xp6(1),t.hij(" ",i.data.artistGroups.edges[0].node.title," "),t.xp6(2),t.MGl("routerLink","/artist-group/",i.data.artistGroups.edges[i.data.artistGroups.edges.length-1].node.id,""),t.xp6(1),t.hij(" ",i.data.artistGroups.edges[i.data.artistGroups.edges.length-1].node.title," ")}}function nt(n,a){1&n&&(t.TgZ(0,"div",24)(1,"div",25)(2,"div",2)(3,"div",3),t._uU(4," No results found "),t.qZA()()()())}var U=function(a){return["/artist-group",a]};function et(n,a){if(1&n&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&n){var e=a.$implicit;t.Q6J("routerLink",t.VKq(2,U,e.node.id)),t.xp6(1),t.hij(" ",e.node.title,"")}}function at(n,a){if(1&n&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&n){var e=a.$implicit;t.Q6J("routerLink",t.VKq(2,U,e.node.id)),t.xp6(1),t.hij("",e.node.title," ")}}function rt(n,a){if(1&n&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&n){var e=a.$implicit;t.Q6J("routerLink",t.VKq(2,U,e.node.id)),t.xp6(1),t.hij("",e.node.title," ")}}function it(n,a){if(1&n&&(t.TgZ(0,"div",24)(1,"div",25)(2,"div",2)(3,"div",26),t.YNc(4,et,2,4,"a",27),t.ALo(5,"ceil"),t.qZA(),t.TgZ(6,"div",26),t.YNc(7,at,2,4,"a",27),t.ALo(8,"ceil"),t.ALo(9,"ceil"),t.qZA(),t.TgZ(10,"div",26),t.YNc(11,rt,2,4,"a",27),t.ALo(12,"ceil"),t.qZA()()()()),2&n){var e=t.oxw().ngIf;t.xp6(4),t.Q6J("ngForOf",e.data.artistGroups.edges.slice(0,t.lcZ(5,3,e.data.artistGroups.edges.length)/3)),t.xp6(3),t.Q6J("ngForOf",e.data.artistGroups.edges.slice(t.lcZ(8,5,e.data.artistGroups.edges.length)/3,t.lcZ(9,7,e.data.artistGroups.edges.length)/3*2)),t.xp6(4),t.Q6J("ngForOf",e.data.artistGroups.edges.slice(t.lcZ(12,9,e.data.artistGroups.edges.length)/3*2))}}var ot=function(){return[]},st=function(){return{chr:"other"}};function ut(n,a){if(1&n){var e=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"p",7)(4,"span",8),t._uU(5,"Artist Groups"),t.qZA()(),t.TgZ(6,"p",9),t.YNc(7,D,2,9,"a",10),t.TgZ(8,"a",11),t._uU(9," other "),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"span",12),t._uU(12," Filter "),t.TgZ(13,"input",13),t.NdJ("change",function(){return t.CHM(e),t.oxw().filter()})("ngModelChange",function(u){return t.CHM(e),t.oxw().filterString=u}),t.qZA()()(),t.YNc(14,tt,18,17,"p",14),t.qZA(),t.YNc(15,nt,5,0,"div",15),t.YNc(16,it,13,11,"div",15),t.qZA(),t.BQk()}if(2&n){var i=a.ngIf,o=t.oxw();t.xp6(7),t.Q6J("ngForOf",t.DdM(8,ot).constructor(26)),t.xp6(1),t.Q6J("routerLink",t.DdM(9,F))("queryParams",t.DdM(10,st))("ngClass",t.VKq(11,G,"other"===o.chr)),t.xp6(5),t.Q6J("ngModel",o.filterString),t.xp6(1),t.Q6J("ngIf",i.data.artistGroups.pageInfo.hasNextPage||i.data.artistGroups.pageInfo.hasPreviousPage),t.xp6(1),t.Q6J("ngIf",i&&!i.data.artistGroups.totalCount),t.xp6(1),t.Q6J("ngIf",i&&i.data.artistGroups.totalCount)}}var ct=function(){var n=function(a){(0,C.Z)(i,a);var e=(0,q.Z)(i);function i(o,s,u){var r;return(0,h.Z)(this,i),(r=e.call(this)).activatedRoute=o,r.graphQLService=s,r.router=u,r.query='\n    query ArtistGroups($chr: String = "a", $after: String = "LTE=") {\n      artistGroups (filter: { title_sort: "ASC", title_startswith: $chr, _after: $after }) {\n        totalCount\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            id\n            title\n          }\n        }\n      }\n    }\n  ',r.otherQuery='\n    query ArtistGroupsOther($after: String = "LTE=") {\n      artistGroups (filter: { title_sort: "ASC", _after: $after }) {\n        totalCount\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            id\n            title\n          }\n        }\n      }\n    }\n  ',r.filterQuery='\n    query ArtistGroups($filter: String = "a", $after: String = "LTE=") {\n      artistGroups (filter: { title_sort: "ASC", title_contains: $filter, _after: $after }) {\n        totalCount\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            id\n            title\n          }\n        }\n      }\n    }\n  ',r.chr="a",r.filterString="",r.page=1,r.pages=[],r.maxPage=1,r.pageJump=1,r.activatedRoute.queryParamMap.subscribe(function(p){var c;p.get("chr")&&(r.chr=p.get("chr")),r.page=p.get("page")?Number(p.get("page")):1,p.get("filterString")?(r.chr="filter",r.filterString=p.get("filterString")):("filter"===r.chr&&(r.chr="a"),r.filterString=""),r.pageJump=r.page;var g={},m="",Z="";switch(r.chr){case"filter":g.filter=null!==(c=r.filterString)&&void 0!==c?c:"a",g.after=btoa(String(300*(r.page-1)-1)),m=r.filterQuery;break;case"other":g.after=btoa(String(300*(r.page-1)-1)),m=r.otherQuery,Z="ArtistGroupsOther";break;default:g.chr=r.chr,g.after=btoa(String(300*(r.page-1)-1)),m=r.query}r.graphQL$=r.graphQLService.query(m,g,Z).pipe((0,T.b)(function(x){r.pages=r.getPages(r.page,x.data.artistGroups.totalCount),r.maxPage=Math.ceil(x.data.artistGroups.totalCount/300)}))}),r}return(0,v.Z)(i,[{key:"jumpToPage",value:function(){this.pageJump>this.maxPage&&(this.pageJump=this.maxPage),this.pageJump<1&&(this.pageJump=1),this.router.navigate(["/artist-groups"],{queryParams:{chr:this.chr,page:this.pageJump,filterString:this.filterString}})}},{key:"filter",value:function(){this.router.navigate(["/artist-groups"],{queryParams:{chr:"filter",filterString:this.filterString}})}}]),i}(P);return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(A),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-artist-groups"]],features:[t.qOj],decls:6,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[4,"ngIf"],[1,"card"],[1,"card-header","card-header-warning"],[1,"card-title"],[1,"h3"],[1,"card-category"],["class","alphabet",3,"ngClass","routerLink","queryParams",4,"ngFor","ngForOf"],[1,"alphabet",3,"routerLink","queryParams","ngClass"],[1,"alphabet-link"],["type","text",2,"width","15em",3,"ngModel","change","ngModelChange"],["class","card-category",4,"ngIf"],["class","card-body",4,"ngIf"],[1,"alphabet",3,"ngClass","routerLink","queryParams"],["routerLink","/artist-groups",1,"pagination-link",3,"queryParams"],["routerLink","/artist-groups","class","pagination-link",3,"queryParams",4,"ngIf"],[4,"ngFor","ngForOf"],["type","number","min","1",2,"width","3em",3,"max","ngModel","change","ngModelChange"],[1,"pagination-link"],[3,"routerLink"],["routerLink","/artist-groups",1,"pagination-link",3,"queryParams","ngClass"],[1,"card-body"],[1,"container"],[1,"col-md-4"],["style","display: block",3,"routerLink",4,"ngFor","ngForOf"],[2,"display","block",3,"routerLink"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,ut,17,13,"ng-container",4),t.ALo(5,"async"),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,1,i.graphQL$)))},directives:[l.O5,l.sg,_.yS,l.mk,d.Fj,d.JJ,d.On,d.qQ,d.Fd,d.wV],pipes:[l.Ov,M],styles:[".alphabet[_ngcontent-%COMP%] {\n  padding-right: 1em;\n}\n\n.alphabet-active[_ngcontent-%COMP%] {\n  text-decoration: underline;\n}\n\n.pagination-link[_ngcontent-%COMP%] {\n  padding-right: 1em;\n}\n\n.pagination-link-active[_ngcontent-%COMP%] {\n  text-decoration: underline;\n}"]}),n}(),O=f(9841),Q=function(){var n=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"transform",value:function(i){return i.year+"-"+i.date.slice(0,2)+"-"+i.date.slice(3,5)}}]),a}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"formatPerformanceDate",type:n,pure:!0}),n}(),Y=function(a){return{year:a}};function gt(n,a){if(1&n&&(t.TgZ(0,"a",18),t._uU(1,"Sources"),t.qZA()),2&n){var e=t.oxw().ngIf,i=t.oxw();t.MGl("routerLink","/sources/",e.data.artist.id,""),t.Q6J("queryParams",t.VKq(2,Y,i.year))}}function pt(n,a){if(1&n){var e=t.EpF();t.TgZ(0,"a",20),t.NdJ("click",function(){t.CHM(e);var s=t.oxw(3);return s.showSets=!s.showSets}),t._uU(1),t.qZA()}if(2&n){var i=a.$implicit;t.xp6(1),t.hij("",i.node.artistGroup.title," Artist Group")}}function dt(n,a){if(1&n&&(t.ynx(0),t.YNc(1,pt,2,1,"a",19),t.BQk()),2&n){var e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",e.data.artist.artistToArtistGroups.edges)}}var lt=function(a){return{"year-link-active":a}};function ft(n,a){if(1&n&&(t.TgZ(0,"a",21),t._uU(1),t.qZA()),2&n){var e=a.$implicit,i=t.oxw().ngIf,o=t.oxw();t.MGl("routerLink","/artist/",i.data.artist.id,""),t.Q6J("ngClass",t.VKq(4,lt,e===o.year))("queryParams",t.VKq(6,Y,e)),t.xp6(1),t.Oqu(1939===e?"unknown":e)}}function mt(n,a){if(1&n&&(t.TgZ(0,"a",24),t._uU(1),t.qZA()),2&n){var e=a.$implicit;t.MGl("routerLink","/source/",e.node.id,""),t.Q6J("title",e.node.comments),t.xp6(1),t.hij(" ",e.node.id," ")}}function _t(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td",25)(2,"div",26)(3,"div",3)(4,"div",27)(5,"b"),t._uU(6,"Set 1"),t.qZA(),t._UZ(7,"br"),t._uU(8),t.qZA(),t.TgZ(9,"div",27)(10,"b"),t._uU(11,"Set 2"),t.qZA(),t._UZ(12,"br"),t._uU(13),t.qZA(),t.TgZ(14,"div",27)(15,"b"),t._uU(16,"Set 3"),t.qZA(),t._UZ(17,"br"),t._uU(18),t.qZA(),t.TgZ(19,"div",27)(20,"b"),t._uU(21,"Comment"),t.qZA(),t._UZ(22,"br"),t._uU(23),t.qZA()()()()()),2&n){var e=t.oxw().$implicit;t.xp6(8),t.hij(" ",e.node.set1," "),t.xp6(5),t.hij(" ",e.node.set2," "),t.xp6(5),t.hij(" ",e.node.set3," "),t.xp6(5),t.hij(" ",e.node.comment," ")}}function vt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"tr")(2,"td"),t._UZ(3,"a",22),t.ALo(4,"formatPerformanceDate"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t.YNc(12,mt,2,3,"a",23),t.qZA()(),t.YNc(13,_t,24,4,"tr",9),t.BQk()),2&n){var e=a.$implicit,i=t.oxw(2);t.xp6(3),t.MGl("routerLink","/performance/",e.node.id,""),t.Q6J("innerHTML",t.lcZ(4,7,e.node),t.oJD),t.xp6(3),t.Oqu(e.node.venue),t.xp6(2),t.Oqu(e.node.city),t.xp6(2),t.Oqu(e.node.state),t.xp6(2),t.Q6J("ngForOf",e.node.sources.edges),t.xp6(1),t.Q6J("ngIf",i.showSets)}}function ht(n,a){if(1&n){var e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"p",7),t._uU(7),t._UZ(8,"br"),t.YNc(9,gt,2,4,"a",8),t.YNc(10,dt,2,1,"ng-container",9),t.TgZ(11,"a",10),t.NdJ("click",function(){t.CHM(e);var s=t.oxw();return s.showSets=!s.showSets}),t._uU(12,"Show Sets"),t.qZA()(),t.TgZ(13,"p",11),t.YNc(14,ft,2,8,"a",12),t.qZA()(),t.TgZ(15,"div",13)(16,"div",13)(17,"div",14)(18,"table",15)(19,"thead",16)(20,"th"),t._uU(21," Date "),t.qZA(),t.TgZ(22,"th"),t._uU(23," Venue "),t.qZA(),t.TgZ(24,"th"),t._uU(25," City "),t.qZA(),t.TgZ(26,"th"),t._uU(27," State "),t.qZA(),t.TgZ(28,"th"),t._uU(29," Sources "),t.qZA()(),t.TgZ(30,"tbody"),t.YNc(31,vt,14,9,"ng-container",17),t.qZA()()()()()()()()()()}if(2&n){var i=a.ngIf;t.xp6(7),t.hij(" Performances for ",i.data.artist.name," "),t.xp6(2),t.Q6J("ngIf",i.data.sourceCount),t.xp6(1),t.Q6J("ngIf",i.data.artist.artistToArtistGroups.edges),t.xp6(4),t.Q6J("ngForOf",i.data.years),t.xp6(17),t.Q6J("ngForOf",i.data.artist.performances.edges)}}var Zt=function(){var n=(0,v.Z)(function a(e,i,o){var s=this;(0,h.Z)(this,a),this.route=e,this.guestGraphQLService=i,this.router=o,this.query='\n    query Artist($id: Int!, $year: Int = 2022) {\n      years: artistYears(id: $id)\n\n      sourceCount(id: $id)\n\n      artist (id: $id) {\n        id\n        name\n        artistToArtistGroups {\n          edges {\n            node {\n              artistGroup {\n                title\n              }\n            }\n          }\n        }\n        performances (filter: {year: $year date_sort: "ASC"}) {\n          edges {\n            node {\n              id\n              date\n              year\n              venue\n              city\n              state\n              set1\n              set2\n              set3\n              comment\n              sources {\n                edges {\n                  node {\n                    id\n                    comments\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  ',this.latestYearQuery="\n    query Artist($id: Int!) {\n      artistLatestYear(id: $id)\n    }\n  ",this.artistId=0,this.graphQL=null,this.years=[],this.showSets=!1,(0,O.a)([this.route.params,this.route.queryParams],function(r,p){return Object.assign(Object.assign({},r),p)}).subscribe(function(r){r.year?(s.year=Number(r.year),s.graphQL$=s.guestGraphQLService.query(s.query,{id:Number(r.id),year:Number(r.year)})):s.guestGraphQLService.query(s.latestYearQuery,{id:Number(r.id)}).subscribe(function(p){s.router.navigate(["/artist/"+r.id],{queryParams:{year:p.data.artistLatestYear}})})})});return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(A),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-artist"]],decls:2,vars:3,consts:[["class","main-content",4,"ngIf"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-warning"],[1,"card-title","h3"],["class","btn btn-success btn-sm",3,"routerLink","queryParams",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"card-category"],["class","year-link",3,"ngClass","routerLink","queryParams",4,"ngFor","ngForOf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-striped"],[1,"text-primary"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm",3,"routerLink","queryParams"],["class","btn btn-success btn-sm",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"year-link",3,"ngClass","routerLink","queryParams"],[3,"routerLink","innerHTML"],["class","source-link",3,"title","routerLink",4,"ngFor","ngForOf"],[1,"source-link",3,"title","routerLink"],["colspan","5"],[1,"container"],[1,"col-md-3"]],template:function(e,i){1&e&&(t.YNc(0,ht,32,5,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.graphQL$))},directives:[l.O5,_.yS,l.sg,l.mk],pipes:[l.Ov,Q],styles:[".year-link[_ngcontent-%COMP%] {\n  padding-right: 1em;\n}\n\n.year-link-active[_ngcontent-%COMP%] {\n  text-decoration: underline;\n}\n\n.source-link[_ngcontent-%COMP%] {\n  padding-right: 1em;\n}"]}),n}(),L=function(a){return{"alphabet-active":a}},I=function(){return["/artists"]},At=function(a){return{chr:a}};function yt(n,a){if(1&n&&(t.TgZ(0,"a",16),t._uU(1),t.qZA()),2&n){var e=a.index,i=t.oxw(2);t.Q6J("ngClass",t.VKq(4,L,i.chr===i.getAlphabetLetter(e,!1)))("routerLink",t.DdM(6,I))("queryParams",t.VKq(7,At,i.getAlphabetLetter(e,!1))),t.xp6(1),t.hij(" ",i.getAlphabetLetter(e,!0)," ")}}var k=function(a,e){return{chr:a,page:e}};function xt(n,a){if(1&n&&(t.TgZ(0,"a",17),t._uU(1," < PREV "),t.qZA()),2&n){var e=t.oxw(3);t.Q6J("queryParams",t.WLB(1,k,e.chr,e.page-1))}}var Ct=function(a){return{"pagination-link-active":a}};function qt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"a",23),t._uU(2),t.qZA(),t.BQk()),2&n){var e=a.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("queryParams",t.WLB(3,k,i.chr,e))("ngClass",t.VKq(6,Ct,e===i.page)),t.xp6(1),t.hij(" ",e," ")}}function Tt(n,a){if(1&n&&(t.TgZ(0,"a",17),t._uU(1," NEXT > "),t.qZA()),2&n){var e=t.oxw(3);t.Q6J("queryParams",t.WLB(1,k,e.chr,e.page+1))}}var Pt=function(a){return{chr:a,page:1}},y=function(a){return["/artist",a]};function St(n,a){if(1&n){var e=t.EpF();t.TgZ(0,"p",9)(1,"a",17),t._uU(2," |< FIRST "),t.qZA(),t.YNc(3,xt,2,4,"a",18),t.YNc(4,qt,3,8,"ng-container",19),t.YNc(5,Tt,2,4,"a",18),t.TgZ(6,"a",17),t._uU(7," LAST |> "),t.qZA(),t._uU(8," Jump to page "),t.TgZ(9,"input",20),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).jumpToPage()})("ngModelChange",function(u){return t.CHM(e),t.oxw(2).pageJump=u}),t.qZA(),t._uU(10),t._UZ(11,"br"),t.TgZ(12,"span",21)(13,"a",22),t._uU(14),t.qZA(),t._uU(15," to "),t.TgZ(16,"a",22),t._uU(17),t.qZA()()()}if(2&n){var i=t.oxw().ngIf,o=t.oxw();t.xp6(1),t.Q6J("queryParams",t.VKq(12,Pt,o.chr)),t.xp6(2),t.Q6J("ngIf",i.data.artists.pageInfo.hasPreviousPage),t.xp6(1),t.Q6J("ngForOf",o.pages),t.xp6(1),t.Q6J("ngIf",i.data.artists.pageInfo.hasNextPage),t.xp6(1),t.Q6J("queryParams",t.WLB(14,k,o.chr,o.maxPage)),t.xp6(3),t.s9C("max",o.maxPage),t.Q6J("ngModel",o.pageJump),t.xp6(1),t.hij(" of ",o.maxPage," "),t.xp6(3),t.Q6J("routerLink",t.VKq(17,y,i.data.artists.edges[0].node.id)),t.xp6(1),t.hij(" ",i.data.artists.edges[0].node.name," "),t.xp6(2),t.Q6J("routerLink",t.VKq(19,y,i.data.artists.edges[i.data.artists.edges.length-1].node.id)),t.xp6(1),t.hij(" ",i.data.artists.edges[i.data.artists.edges.length-1].node.name," ")}}function kt(n,a){1&n&&(t.TgZ(0,"div",24)(1,"div",25)(2,"div",2)(3,"div",3),t._uU(4," No results found "),t.qZA()()()())}function Jt(n,a){if(1&n&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&n){var e=a.$implicit;t.Q6J("routerLink",t.VKq(2,y,e.node.id)),t.xp6(1),t.hij(" ",e.node.name,"")}}function bt(n,a){if(1&n&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&n){var e=a.$implicit;t.Q6J("routerLink",t.VKq(2,y,e.node.id)),t.xp6(1),t.hij("",e.node.name," ")}}function Mt(n,a){if(1&n&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&n){var e=a.$implicit;t.Q6J("routerLink",t.VKq(2,y,e.node.id)),t.xp6(1),t.hij("",e.node.name," ")}}function Ut(n,a){if(1&n&&(t.TgZ(0,"div",24)(1,"div",25)(2,"div",2)(3,"div",26),t.YNc(4,Jt,2,4,"a",27),t.ALo(5,"ceil"),t.qZA(),t.TgZ(6,"div",26),t.YNc(7,bt,2,4,"a",27),t.ALo(8,"ceil"),t.ALo(9,"ceil"),t.qZA(),t.TgZ(10,"div",26),t.YNc(11,Mt,2,4,"a",27),t.ALo(12,"ceil"),t.qZA()()()()),2&n){var e=t.oxw().ngIf;t.xp6(4),t.Q6J("ngForOf",e.data.artists.edges.slice(0,t.lcZ(5,3,e.data.artists.edges.length)/3)),t.xp6(3),t.Q6J("ngForOf",e.data.artists.edges.slice(t.lcZ(8,5,e.data.artists.edges.length)/3,t.lcZ(9,7,e.data.artists.edges.length)/3*2)),t.xp6(4),t.Q6J("ngForOf",e.data.artists.edges.slice(t.lcZ(12,9,e.data.artists.edges.length)/3*2))}}var Lt=function(){return{chr:"top100"}},It=function(){return[]},Nt=function(){return{chr:"other"}};function wt(n,a){if(1&n){var e=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"p",7)(4,"span",8),t._uU(5,"Artists"),t.qZA()(),t.TgZ(6,"p",9)(7,"a",10),t._uU(8," top 100 "),t.qZA(),t.YNc(9,yt,2,9,"a",11),t.TgZ(10,"a",10),t._uU(11," other "),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"span",12),t._uU(14," Filter "),t.TgZ(15,"input",13),t.NdJ("change",function(){return t.CHM(e),t.oxw().filter()})("ngModelChange",function(u){return t.CHM(e),t.oxw().filterString=u}),t.qZA()()(),t.YNc(16,St,18,21,"p",14),t.qZA(),t.YNc(17,kt,5,0,"div",15),t.YNc(18,Ut,13,11,"div",15),t.qZA(),t.BQk()}if(2&n){var i=a.ngIf,o=t.oxw();t.xp6(7),t.Q6J("routerLink",t.DdM(11,I))("queryParams",t.DdM(12,Lt))("ngClass",t.VKq(13,L,"top100"===o.chr)),t.xp6(2),t.Q6J("ngForOf",t.DdM(15,It).constructor(26)),t.xp6(1),t.Q6J("routerLink",t.DdM(16,I))("queryParams",t.DdM(17,Nt))("ngClass",t.VKq(18,L,"other"===o.chr)),t.xp6(5),t.Q6J("ngModel",o.filterString),t.xp6(1),t.Q6J("ngIf",i.data.artists.pageInfo.hasNextPage||i.data.artists.pageInfo.hasPreviousPage),t.xp6(1),t.Q6J("ngIf",i&&!i.data.artists.totalCount),t.xp6(1),t.Q6J("ngIf",i&&i.data.artists.totalCount)}}var Gt=function(){var n=function(a){(0,C.Z)(i,a);var e=(0,q.Z)(i);function i(o,s,u){var r;return(0,h.Z)(this,i),(r=e.call(this)).activatedRoute=o,r.graphQLService=s,r.router=u,r.query='\n    query ArtistList($chr: String = "a", $after: String = "LTE=") {\n      artists (filter: { name_sort: "ASC", name_startswith: $chr, _after: $after }) {\n        totalCount\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            id\n            name\n          }\n        }\n      }\n    }\n  ',r.top100query='\n    {\n      artists (filter: { name_sort: "ASC", top100: true }) {\n        totalCount\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            id\n            name\n          }\n        }\n      }\n    }\n    ',r.otherQuery='\n    query ArtistListOther($after: String = "LTE=") {\n      artists (filter: { name_sort: "ASC", _after: $after }) {\n        totalCount\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            id\n            name\n          }\n        }\n      }\n    }\n  ',r.filterQuery='\n    query ArtistList($filter: String = "a", $after: String = "LTE=") {\n      artists (filter: { name_sort: "ASC", name_contains: $filter, _after: $after }) {\n        totalCount\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            id\n            name\n          }\n        }\n      }\n    }\n  ',r.chr="top100",r.filterString="",r.page=1,r.pages=[],r.maxPage=1,r.pageJump=1,r.activatedRoute.queryParamMap.subscribe(function(p){p.get("chr")&&(r.chr=p.get("chr")),r.page=p.get("page")?Number(p.get("page")):1,p.get("filterString")?(r.chr="filter",r.filterString=p.get("filterString")):r.filterString="",r.pageJump=r.page;var c={},g="",m="";switch(r.chr){case"filter":c.filter=r.filterString,c.after=btoa(String(300*(r.page-1)-1)),g=r.filterQuery;break;case"top100":g=r.top100query;break;case"other":c.after=btoa(String(300*(r.page-1)-1)),g=r.otherQuery,m="ArtistListOther";break;default:c.chr=r.chr,c.after=btoa(String(300*(r.page-1)-1)),g=r.query}r.graphQL$=r.graphQLService.query(g,c,m).pipe((0,T.b)(function(Z){r.pages=r.getPages(r.page,Z.data.artists.totalCount),r.maxPage=Math.ceil(Z.data.artists.totalCount/300)}))}),r}return(0,v.Z)(i,[{key:"jumpToPage",value:function(){this.pageJump>this.maxPage&&(this.pageJump=this.maxPage),this.pageJump<1&&(this.pageJump=1),this.router.navigate(["/artists"],{queryParams:{chr:this.chr,page:this.pageJump,filterString:this.filterString}})}},{key:"filter",value:function(){this.router.navigate(["/artists"],{queryParams:{chr:"filter",filterString:this.filterString}})}}]),i}(P);return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(A),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-artists"]],features:[t.qOj],decls:6,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[4,"ngIf"],[1,"card"],[1,"card-header","card-header-warning"],[1,"card-title"],[1,"h3"],[1,"card-category"],[1,"alphabet",3,"routerLink","queryParams","ngClass"],["class","alphabet",3,"ngClass","routerLink","queryParams",4,"ngFor","ngForOf"],[1,"alphabet-link"],["type","text",2,"width","15em",3,"ngModel","change","ngModelChange"],["class","card-category",4,"ngIf"],["class","card-body",4,"ngIf"],[1,"alphabet",3,"ngClass","routerLink","queryParams"],["routerLink","/artists",1,"pagination-link",3,"queryParams"],["routerLink","/artists","class","pagination-link",3,"queryParams",4,"ngIf"],[4,"ngFor","ngForOf"],["type","number","min","1",2,"width","3em",3,"max","ngModel","change","ngModelChange"],[1,"pagination-link"],[3,"routerLink"],["routerLink","/artists",1,"pagination-link",3,"queryParams","ngClass"],[1,"card-body"],[1,"container"],[1,"col-md-4"],["style","display: block",3,"routerLink",4,"ngFor","ngForOf"],[2,"display","block",3,"routerLink"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,wt,19,20,"ng-container",4),t.ALo(5,"async"),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,1,i.graphQL$)))},directives:[l.O5,_.yS,l.mk,l.sg,d.Fj,d.JJ,d.On,d.qQ,d.Fd,d.wV],pipes:[l.Ov,M],styles:[".alphabet[_ngcontent-%COMP%] {\n  padding-right: 1em;\n}\n\n.alphabet-active[_ngcontent-%COMP%] {\n  text-decoration: underline;\n}\n\n.pagination-link[_ngcontent-%COMP%] {\n  padding-right: 1em;\n}\n\n.pagination-link-active[_ngcontent-%COMP%] {\n  text-decoration: underline;\n}"]}),n}(),$=function(a){return{"alphabet-active":a}},j=function(){return["/source-artists"]},Ot=function(a){return{chr:a}};function Qt(n,a){if(1&n&&(t.TgZ(0,"a",16),t._uU(1),t.qZA()),2&n){var e=a.index,i=t.oxw(2);t.Q6J("ngClass",t.VKq(4,$,i.chr===i.getAlphabetLetter(e,!1)))("routerLink",t.DdM(6,j))("queryParams",t.VKq(7,Ot,i.getAlphabetLetter(e,!1))),t.xp6(1),t.hij(" ",i.getAlphabetLetter(e,!0)," ")}}var J=function(a,e){return{chr:a,page:e}};function Yt(n,a){if(1&n&&(t.TgZ(0,"a",17),t._uU(1," < PREV "),t.qZA()),2&n){var e=t.oxw(3);t.Q6J("queryParams",t.WLB(1,J,e.chr,e.page-1))}}var $t=function(a){return{"pagination-link-active":a}};function jt(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"a",23),t._uU(2),t.qZA(),t.BQk()),2&n){var e=a.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("queryParams",t.WLB(3,J,i.chr,e))("ngClass",t.VKq(6,$t,e===i.page)),t.xp6(1),t.hij(" ",e," ")}}function Vt(n,a){if(1&n&&(t.TgZ(0,"a",17),t._uU(1," NEXT > "),t.qZA()),2&n){var e=t.oxw(3);t.Q6J("queryParams",t.WLB(1,J,e.chr,e.page+1))}}var Kt=function(a){return{chr:a,page:1}};function Bt(n,a){if(1&n){var e=t.EpF();t.TgZ(0,"p",9)(1,"a",17),t._uU(2," |< FIRST "),t.qZA(),t.YNc(3,Yt,2,4,"a",18),t.YNc(4,jt,3,8,"ng-container",19),t.YNc(5,Vt,2,4,"a",18),t.TgZ(6,"a",17),t._uU(7," LAST |> "),t.qZA(),t._uU(8," Jump to page "),t.TgZ(9,"input",20),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).jumpToPage()})("ngModelChange",function(u){return t.CHM(e),t.oxw(2).pageJump=u}),t.qZA(),t._uU(10),t._UZ(11,"br"),t.TgZ(12,"span",21)(13,"a",22),t._uU(14),t.qZA(),t._uU(15," to "),t.TgZ(16,"a",22),t._uU(17),t.qZA()()()}if(2&n){var i=t.oxw().ngIf,o=t.oxw();t.xp6(1),t.Q6J("queryParams",t.VKq(12,Kt,o.chr)),t.xp6(2),t.Q6J("ngIf",i.data.artists.pageInfo.hasPreviousPage),t.xp6(1),t.Q6J("ngForOf",o.pages),t.xp6(1),t.Q6J("ngIf",i.data.artists.pageInfo.hasNextPage),t.xp6(1),t.Q6J("queryParams",t.WLB(14,J,o.chr,o.maxPage)),t.xp6(3),t.s9C("max",o.maxPage),t.Q6J("ngModel",o.pageJump),t.xp6(1),t.hij(" of ",o.maxPage," "),t.xp6(3),t.MGl("routerLink","/sources/",i.data.artists.edges[0].node.id,""),t.xp6(1),t.hij(" ",i.data.artists.edges[0].node.name," "),t.xp6(2),t.MGl("routerLink","/sources/",i.data.artists.edges[i.data.artists.edges.length-1].node.id,""),t.xp6(1),t.hij(" ",i.data.artists.edges[i.data.artists.edges.length-1].node.name," ")}}function Ht(n,a){1&n&&(t.TgZ(0,"div",24)(1,"div",25)(2,"div",2)(3,"div",3),t._uU(4," No results found "),t.qZA()()()())}function Dt(n,a){if(1&n&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&n){var e=a.$implicit;t.MGl("routerLink","/sources/",e.node.id,""),t.xp6(1),t.hij(" ",e.node.name,"")}}function Et(n,a){if(1&n&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&n){var e=a.$implicit;t.MGl("routerLink","/sources/",e.node.id,""),t.xp6(1),t.hij("",e.node.name," ")}}function Wt(n,a){if(1&n&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&n){var e=a.$implicit;t.MGl("routerLink","/sources/",e.node.id,""),t.xp6(1),t.hij("",e.node.name," ")}}function Rt(n,a){if(1&n&&(t.TgZ(0,"div",24)(1,"div",25)(2,"div",2)(3,"div",26),t.YNc(4,Dt,2,2,"a",27),t.ALo(5,"ceil"),t.qZA(),t.TgZ(6,"div",26),t.YNc(7,Et,2,2,"a",27),t.ALo(8,"ceil"),t.ALo(9,"ceil"),t.qZA(),t.TgZ(10,"div",26),t.YNc(11,Wt,2,2,"a",27),t.ALo(12,"ceil"),t.qZA()()()()),2&n){var e=t.oxw().ngIf;t.xp6(4),t.Q6J("ngForOf",e.data.artists.edges.slice(0,t.lcZ(5,3,e.data.artists.edges.length)/3)),t.xp6(3),t.Q6J("ngForOf",e.data.artists.edges.slice(t.lcZ(8,5,e.data.artists.edges.length)/3,t.lcZ(9,7,e.data.artists.edges.length)/3*2)),t.xp6(4),t.Q6J("ngForOf",e.data.artists.edges.slice(t.lcZ(12,9,e.data.artists.edges.length)/3*2))}}var Xt=function(){return[]},zt=function(){return{chr:"other"}};function tn(n,a){if(1&n){var e=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"p",7)(4,"span",8),t._uU(5,"Source Artists"),t.qZA()(),t.TgZ(6,"p",9),t.YNc(7,Qt,2,9,"a",10),t.TgZ(8,"a",11),t._uU(9," other "),t.qZA(),t._UZ(10,"br"),t.TgZ(11,"span",12),t._uU(12," Filter "),t.TgZ(13,"input",13),t.NdJ("change",function(){return t.CHM(e),t.oxw().filter()})("ngModelChange",function(u){return t.CHM(e),t.oxw().filterString=u}),t.qZA()()(),t.YNc(14,Bt,18,17,"p",14),t.qZA(),t.YNc(15,Ht,5,0,"div",15),t.YNc(16,Rt,13,11,"div",15),t.qZA(),t.BQk()}if(2&n){var i=a.ngIf,o=t.oxw();t.xp6(7),t.Q6J("ngForOf",t.DdM(8,Xt).constructor(26)),t.xp6(1),t.Q6J("routerLink",t.DdM(9,j))("queryParams",t.DdM(10,zt))("ngClass",t.VKq(11,$,"other"===o.chr)),t.xp6(5),t.Q6J("ngModel",o.filterString),t.xp6(1),t.Q6J("ngIf",i.data.artists.pageInfo.hasNextPage||i.data.artists.pageInfo.hasPreviousPage),t.xp6(1),t.Q6J("ngIf",i&&!i.data.artists.totalCount),t.xp6(1),t.Q6J("ngIf",i&&i.data.artists.totalCount)}}function en(n,a){if(1&n){var e=t.EpF();t.TgZ(0,"a",18),t.NdJ("click",function(){t.CHM(e);var s=t.oxw(3);return s.showSets=!s.showSets}),t._uU(1),t.qZA()}if(2&n){var i=a.$implicit;t.xp6(1),t.hij("",i.node.artistGroup.title," Artist Group")}}function an(n,a){if(1&n&&(t.ynx(0),t.YNc(1,en,2,1,"a",17),t.BQk()),2&n){var e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",e.data.artist.artistToArtistGroups.edges)}}var rn=function(a){return{"year-link-active":a}},V=function(a){return{year:a}};function on(n,a){if(1&n&&(t.TgZ(0,"a",19),t._uU(1),t.qZA()),2&n){var e=a.$implicit,i=t.oxw().ngIf,o=t.oxw();t.MGl("routerLink","/sources/",i.data.artist.id,""),t.Q6J("ngClass",t.VKq(4,rn,e===o.year))("queryParams",t.VKq(6,V,e)),t.xp6(1),t.Oqu(1939===e?"unknown":e)}}var b=function(a,e){return{year:a,page:e}};function sn(n,a){if(1&n&&(t.TgZ(0,"a",20),t._uU(1," < PREV"),t.qZA()),2&n){var e=t.oxw(2).ngIf,i=t.oxw();t.MGl("routerLink","/sources/",e.data.artist.id,""),t.Q6J("queryParams",t.WLB(2,b,i.year,i.page-1))}}var un=function(a){return{"pagination-link-active":a}};function cn(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"a",23),t._uU(2),t.qZA(),t.BQk()),2&n){var e=a.$implicit,i=t.oxw(2).ngIf,o=t.oxw();t.xp6(1),t.MGl("routerLink","/sources/",i.data.artist.id,""),t.Q6J("queryParams",t.WLB(4,b,o.year,e))("ngClass",t.VKq(7,un,e===o.page)),t.xp6(1),t.Oqu(e)}}function gn(n,a){if(1&n&&(t.TgZ(0,"a",20),t._uU(1," NEXT >"),t.qZA()),2&n){var e=t.oxw(2).ngIf,i=t.oxw();t.MGl("routerLink","/sources/",e.data.artist.id,""),t.Q6J("queryParams",t.WLB(2,b,i.year,i.page+1))}}var pn=function(a){return{year:a,page:1}};function dn(n,a){if(1&n){var e=t.EpF();t.TgZ(0,"div")(1,"a",20),t._uU(2," |< FIRST"),t.qZA(),t.YNc(3,sn,2,5,"a",21),t.YNc(4,cn,3,9,"ng-container",16),t.YNc(5,gn,2,5,"a",21),t.TgZ(6,"a",20),t._uU(7," LAST |>"),t.qZA(),t._uU(8," Jump to page "),t.TgZ(9,"input",22),t.NdJ("change",function(){return t.CHM(e),t.oxw(2).jumpToPage()})("ngModelChange",function(u){return t.CHM(e),t.oxw(2).pageJump=u}),t.qZA(),t._uU(10),t.qZA()}if(2&n){var i=t.oxw().ngIf,o=t.oxw();t.xp6(1),t.MGl("routerLink","/sources/",i.data.artist.id,""),t.Q6J("queryParams",t.VKq(10,pn,o.year)),t.xp6(2),t.Q6J("ngIf",i.data.sources.pageInfo.hasPreviousPage),t.xp6(1),t.Q6J("ngForOf",o.pages),t.xp6(1),t.Q6J("ngIf",i.data.sources.pageInfo.hasNextPage),t.xp6(1),t.MGl("routerLink","/sources/",i.data.artist.id,""),t.Q6J("queryParams",t.WLB(12,b,o.year,o.maxPage)),t.xp6(3),t.s9C("max",o.maxPage),t.Q6J("ngModel",o.pageJump),t.xp6(1),t.hij(" of ",o.maxPage," ")}}function ln(n,a){if(1&n&&(t.TgZ(0,"a",28),t._uU(1),t.qZA()),2&n){var e=t.oxw().$implicit;t.MGl("href","https://archive.org/details/",e.node.archiveIdentifier,"",t.LSH),t.xp6(1),t.hij(" ",e.node.archiveIdentifier," ")}}function fn(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"tr")(2,"td")(3,"a",24),t._uU(4),t.qZA()(),t.TgZ(5,"td"),t._UZ(6,"a",25),t.ALo(7,"formatPerformanceDate"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t.YNc(15,ln,2,2,"a",26),t.qZA()(),t.TgZ(16,"tr"),t._UZ(17,"td",27),t.qZA(),t.BQk()),2&n){var e=a.$implicit;t.xp6(3),t.MGl("routerLink","/source/",e.node.id,""),t.xp6(1),t.hij(" ",e.node.id," "),t.xp6(2),t.MGl("routerLink","/performance/",e.node.performance.id,""),t.Q6J("innerHTML",t.lcZ(7,9,e.node.performance),t.oJD),t.xp6(3),t.Oqu(e.node.performance.venue),t.xp6(2),t.Oqu(e.node.performance.city),t.xp6(2),t.Oqu(e.node.performance.state),t.xp6(2),t.Q6J("ngIf",e.node.archiveIdentifier),t.xp6(2),t.Q6J("innerHTML",e.node.comments,t.oJD)}}function mn(n,a){if(1&n&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"p",7),t._uU(7),t._UZ(8,"br"),t.TgZ(9,"a",8),t._uU(10,"Performances"),t.qZA(),t.YNc(11,an,2,1,"ng-container",9),t.qZA(),t.TgZ(12,"div",10),t.YNc(13,on,2,8,"a",11),t.YNc(14,dn,11,15,"div",9),t.qZA()(),t.TgZ(15,"div",12)(16,"div",12)(17,"div",13)(18,"table",14)(19,"thead",15)(20,"th"),t._uU(21," SHNID "),t.qZA(),t.TgZ(22,"th"),t._uU(23," Date "),t.qZA(),t.TgZ(24,"th"),t._uU(25," Venue "),t.qZA(),t.TgZ(26,"th"),t._uU(27," City "),t.qZA(),t.TgZ(28,"th"),t._uU(29," State "),t.qZA(),t.TgZ(30,"th"),t._uU(31," Archive Identifier "),t.qZA()(),t.TgZ(32,"tbody"),t.YNc(33,fn,18,11,"ng-container",16),t.qZA()()()()()()()()()()),2&n){var e=a.ngIf,i=t.oxw();t.xp6(7),t.hij(" Sources for ",e.data.artist.name," "),t.xp6(2),t.MGl("routerLink","/artist/",e.data.artist.id,""),t.Q6J("queryParams",t.VKq(7,V,i.year)),t.xp6(2),t.Q6J("ngIf",e.data.artist.artistToArtistGroups.edges),t.xp6(2),t.Q6J("ngForOf",e.data.years),t.xp6(1),t.Q6J("ngIf",e&&(e.data.sources.pageInfo.hasNextPage||e.data.sources.pageInfo.hasPreviousPage)),t.xp6(19),t.Q6J("ngForOf",e.data.sources.edges)}}var vn=[{path:"",redirectTo:"home",pathMatch:"full"},{component:function(){var n=function(){function a(){(0,h.Z)(this,a)}return(0,v.Z)(a,[{key:"ngOnInit",value:function(){}}]),a}();return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:17,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-warning"],[1,"card-title"],[1,"card-body"],["href","https://etreedb.org"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t._uU(7," Welcome to the Live Concert Database "),t.qZA()(),t.TgZ(8,"div",7)(9,"p"),t._uU(10," This website will replace "),t.TgZ(11,"a",8),t._uU(12,"etreedb.org"),t.qZA(),t._uU(13," in time. While this process is taking place this website will use the exact same database as "),t.TgZ(14,"a",8),t._uU(15,"etreedb.org"),t.qZA(),t._uU(16," so all changes on each site will be reflected in each other. "),t.qZA()()()()()()())},styles:[""]}),n}(),path:"home"},{component:Gt,path:"artists"},{component:Zt,path:"artist/:id"},{component:function(){var n=function(a){(0,C.Z)(i,a);var e=(0,q.Z)(i);function i(o,s,u){var r;return(0,h.Z)(this,i),(r=e.call(this)).activatedRoute=o,r.graphQLService=s,r.router=u,r.query='\n    query SourceArtists($chr: String = "a", $after: String = "LTE=") {\n      artists (filter: { name_sort: "ASC", name_startswith: $chr, _after: $after }) {\n        totalCount\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            id\n            name\n          }\n        }\n      }\n    }\n  ',r.otherQuery='\n    query SourceArtistsOther($after: String = "LTE=") {\n      artists (filter: { name_sort: "ASC", _after: $after }) {\n        totalCount\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            id\n            name\n          }\n        }\n      }\n    }\n  ',r.filterQuery='\n    query SourceArtists($filter: String = "a", $after: String = "LTE=") {\n      artists (filter: { name_sort: "ASC", name_contains: $filter, _after: $after }) {\n        totalCount\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n        }\n        edges {\n          cursor\n          node {\n            id\n            name\n          }\n        }\n      }\n    }\n  ',r.chr="a",r.filterString="",r.page=1,r.pages=[],r.maxPage=1,r.pageJump=1,r.activatedRoute.queryParamMap.subscribe(function(p){var c;r.page=p.get("page")?Number(p.get("page")):1,r.filterString=p.get("filterString")?p.get("filterString"):"",r.pageJump=r.page;var g={},m="",Z="SourceArtists";r.filterString?(g.filter=r.filterString,g.after=btoa(String(300*(r.page-1)-1)),m=r.filterQuery):"other"===p.get("chr")?(Z="SourceArtistsOther",g.after=btoa(String(300*(r.page-1)-1)),r.chr=g.chr="other",m=r.otherQuery):(g.after=btoa(String(300*(r.page-1)-1)),r.chr=g.chr=null!==(c=p.get("chr"))&&void 0!==c?c:"a",m=r.query),r.graphQL$=r.graphQLService.query(m,g,Z).pipe((0,T.b)(function(x){r.pages=r.getPages(r.page,x.data.artists.totalCount),r.maxPage=Math.ceil(x.data.artists.totalCount/300)}))}),r}return(0,v.Z)(i,[{key:"jumpToPage",value:function(){this.pageJump>this.maxPage&&(this.pageJump=this.maxPage),this.pageJump<1&&(this.pageJump=1),this.router.navigate(["/source-artists"],{queryParams:{page:this.pageJump,filterString:this.filterString}})}},{key:"filter",value:function(){this.router.navigate(["/source-artists"],{queryParams:{filterString:this.filterString}})}}]),i}(P);return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(A),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-source-artists"]],features:[t.qOj],decls:6,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[4,"ngIf"],[1,"card"],[1,"card-header","card-header-warning"],[1,"card-title"],[1,"h3"],[1,"card-category"],["class","alphabet",3,"ngClass","routerLink","queryParams",4,"ngFor","ngForOf"],[1,"alphabet",3,"routerLink","queryParams","ngClass"],[1,"alphabet-link"],["type","text",2,"width","15em",3,"ngModel","change","ngModelChange"],["class","card-category",4,"ngIf"],["class","card-body",4,"ngIf"],[1,"alphabet",3,"ngClass","routerLink","queryParams"],["routerLink","/source-artists",1,"pagination-link",3,"queryParams"],["routerLink","/source-artists","class","pagination-link",3,"queryParams",4,"ngIf"],[4,"ngFor","ngForOf"],["type","number","min","1",2,"width","3em",3,"max","ngModel","change","ngModelChange"],[1,"pagination-link"],[3,"routerLink"],["routerLink","/source-artists",1,"pagination-link",3,"queryParams","ngClass"],[1,"card-body"],[1,"container"],[1,"col-md-4"],["style","display: block",3,"routerLink",4,"ngFor","ngForOf"],[2,"display","block",3,"routerLink"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,tn,17,13,"ng-container",4),t.ALo(5,"async"),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",t.lcZ(5,1,i.graphQL$)))},directives:[l.O5,l.sg,_.yS,l.mk,d.Fj,d.JJ,d.On,d.qQ,d.Fd,d.wV],pipes:[l.Ov,M],styles:[".alphabet[_ngcontent-%COMP%] {\n  padding-right: 1em;\n}\n\n.alphabet-active[_ngcontent-%COMP%] {\n  text-decoration: underline;\n}\n\n.pagination-link[_ngcontent-%COMP%] {\n  padding-right: 1em;\n}\n\n.pagination-link-active[_ngcontent-%COMP%] {\n  text-decoration: underline;\n}"]}),n}(),path:"source-artists"},{component:function(){var n=function(a){(0,C.Z)(i,a);var e=(0,q.Z)(i);function i(o,s,u){var r;return(0,h.Z)(this,i),(r=e.call(this)).route=o,r.graphQLService=s,r.router=u,r.query='\n    query ArtistSources($id: Int!, $after: String = "LTE=") {\n      years: sourceYears(id: $id)\n\n      artist (id: $id) {\n        id\n        name\n        artistToArtistGroups {\n          edges {\n            node {\n              artistGroup {\n                title\n              }\n            }\n          }\n        }\n      }\n\n      sources (filter: {_after: $after}) {\n        pageInfo {\n          hasNextPage\n          hasPreviousPage\n        }\n        totalCount\n        edges {\n          node {\n            id\n            createdAt\n            updatedAt\n\n            circdate\n            shndiskcount\n            wavdiskcount\n            archiveIdentifier\n\n            comments\n            textdoc\n\n            mediaSize\n            mediaSizeUncompressed\n\n            performance {\n              id\n              date\n              year\n              venue\n              city\n              state\n              artist {\n                id\n                name\n              }\n            }\n          }\n        }\n      }\n    }\n  ',r.latestYearQuery="\n    query SourceLatestYear($id: Int!) {\n      sourceLatestYear(id: $id)\n    }\n  ",r.artistId=0,r.years=[],r.showSets=!1,r.page=1,r.pages=[],r.maxPage=1,r.pageJump=1,(0,O.a)([r.route.params,r.route.queryParams],function(c,g){return Object.assign(Object.assign({},c),g)}).subscribe(function(c){if(c.year){r.artistId=c.id,r.year=Number(c.year),r.page=r.pageJump=Number(c.page?c.page:1);var g={};g.after=btoa(String(300*(r.page-1)-1)),g.year=Number(c.year),g.id=Number(c.id),r.graphQL$=r.graphQLService.query(r.query,g,"ArtistSources").pipe((0,T.b)(function(m){r.pages=r.getPages(r.page,m.data.sources.totalCount),r.maxPage=Math.ceil(m.data.sources.totalCount/300)}))}else r.graphQLService.query(r.latestYearQuery,{id:Number(c.id)}).subscribe(function(m){r.router.navigate(["/sources/"+c.id],{queryParams:{year:m.data.sourceLatestYear}})})}),r}return(0,v.Z)(i,[{key:"jumpToPage",value:function(){this.pageJump>this.maxPage&&(this.pageJump=this.maxPage),this.pageJump<1&&(this.pageJump=1),this.router.navigate(["/sources/",this.artistId],{queryParams:{year:this.year,page:this.pageJump}})}}]),i}(P);return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.gz),t.Y36(A),t.Y36(_.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sources"]],features:[t.qOj],decls:2,vars:3,consts:[["class","main-content",4,"ngIf"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-warning"],[1,"card-title","h3"],[1,"btn","btn-success","btn-sm",3,"routerLink","queryParams"],[4,"ngIf"],[1,"card-category"],["class","year-link",3,"ngClass","routerLink","queryParams",4,"ngFor","ngForOf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-double-striped"],[1,"text-primary"],[4,"ngFor","ngForOf"],["class","btn btn-success btn-sm",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"year-link",3,"ngClass","routerLink","queryParams"],[1,"pagination-link",3,"routerLink","queryParams"],["class","pagination-link","class","pagination-link",3,"routerLink","queryParams",4,"ngIf"],["type","number","min","1",2,"width","3em",3,"max","ngModel","change","ngModelChange"],[1,"pagination-link",3,"routerLink","queryParams","ngClass"],[3,"routerLink"],[3,"routerLink","innerHTML"],[3,"href",4,"ngIf"],["colspan","6",3,"innerHTML"],[3,"href"]],template:function(e,i){1&e&&(t.YNc(0,mn,34,9,"div",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.graphQL$))},directives:[l.O5,_.yS,l.sg,l.mk,d.qQ,d.Fd,d.wV,d.Fj,d.JJ,d.On],pipes:[l.Ov,Q],styles:[".year-link[_ngcontent-%COMP%] {\n  padding-right: 1em;\n}\n\n.year-link-active[_ngcontent-%COMP%] {\n  text-decoration: underline;\n}\n\n.table-double-striped[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4n+1), .table-double-striped[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(4n+2) {\n  background: #f9f9f9;\n}\n\n.pagination-link[_ngcontent-%COMP%] {\n  padding-right: 1em;\n}\n\n.pagination-link-active[_ngcontent-%COMP%] {\n  text-decoration: underline;\n}"]}),n}(),path:"sources/:id"},{component:ct,path:"artist-groups"},{component:K,path:"artist-group/:id"}],hn=f(7423),Zn=f(7531),An=f(508),yn=f(7322),xn=f(9772),Cn=f(4107),qn=function(){var n=(0,v.Z)(function a(){(0,h.Z)(this,a)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez]]}),n}(),Tn=function(){var n=(0,v.Z)(function a(){(0,h.Z)(this,a)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.ez,_.Bz.forChild(vn),d.u5,d.UX,hn.ot,An.si,yn.lN,Zn.c,Cn.LD,xn.AV,qn]]}),n}()}}]);